{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>calculator demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'style/calculator1.css' %}">
  </head>
  <body>
    
    <div class="calculator">
      <div class="screen">
        <input type="text" name="" id="screen" placeholder="0">
      </div>
      <button onclick="backSpace()" class="btn-cal btn-red-color ">Re</button>
      <button onclick="clearScreen() " class="btn-cal btn-red-color btn-padd">Clr</button>
      <div class="row">
        <button onclick="calclick(7)" class="btn-cal">7</button>
        <button onclick="calclick(8)" class="btn-cal">8</button>
        <button onclick="calclick(9)" class="btn-cal">9</button>
        <button onclick="calclick('/')" class="btn-cal btn-color">/</button>
      </div>
      <div class="row">
        <button onclick="calclick(4)" class="btn-cal">4</button>
        <button onclick="calclick(5)" class="btn-cal">5</button>
        <button onclick="calclick(6)" class="btn-cal">6</button>
        <button onclick="calclick('*')" class="btn-cal btn-color">x</button>
      </div>
      <div class="row">
        <button onclick="calclick(1)" class="btn-cal">1</button>
        <button onclick="calclick(2)" class="btn-cal">2</button>
        <button onclick="calclick(3)" class="btn-cal">3</button>
        <button onclick="calclick('+')" class="btn-cal btn-color">+</button>
      </div>
      <div class="row">
        <button onclick="calclick('.')" class="btn-cal btn-color">.</button>
        <button onclick="calclick(0)" class="btn-cal">0</button>
        <button onclick="calclick('-')" class="btn-cal btn-color">-</button>
        
        <button onclick="btnEqual()" class="btn-cal btn-color">=</button>
      </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

    <script>
      
      function calclick(val){
        text = document.getElementById("screen")
        text.value+=val
      }
      function clearScreen(){
        document.getElementById("screen").value =""
      }
      function backSpace(){
        text = document.getElementById("screen")
        text.value =text.value.slice(0,-1)
      }
     function btnEqual(){
      // text = document.getElementById("screen").value
      // result =eval(text)
      // document.getElementById("screen").value = result
      
        // alert("hai")
         const text = document.getElementById("screen").value;
         const operands = text.match(/[+\-*/]?([0-9.]+)/g); // split text into operands
         let result = parseFloat(operands[0]); // initialize result with first operand
         for (let i = 1; i < operands.length; i++) {
           const operator = operands[i][0]; // get the operator (+, -, *, /)
           const operand = parseFloat(operands[i].slice(1)); // get the operand
           switch (operator) {
             case '+':
               result += operand;
               break;
             case '-':
               result -= operand;
               break;
             case '*':
               result *= operand;
               break;
             case '/':
               result /= operand;
               break;
           }
         }
         document.getElementById("screen").value = result;
       

     }
     limit =document.querySelectorAll("button")
     for (let i = 0; i < limit.length; i++) {
      document.querySelectorAll("button")[i].addEventListener("click",function (){
        document.querySelectorAll("button")[i].classList.add("press")
        setTimeout(function(){
          document.querySelectorAll("button")[i].classList.remove("press")
        },200)
     })
      
     }
     
    </script>
  </body>
</html>
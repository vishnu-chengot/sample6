<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <style>
      .color{
        color: green;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="col-lg-12 mt-5">
        <div class="mb-3">
          
          <h1>To do List</h1>
        </div>

        <div class="mb-3" >
          <label for="exampleFormControlInput1" class="form-label">Task</label>
          <input type="email" class="form-control" id="taskBox" placeholder="task you wish">
        </div>
        <div class="mb-3" id="disc-box">
          <label for="exampleFormControlTextarea1" class="form-label">Discription</label>
          <textarea class="form-control" id="discBox" rows="3"></textarea>
        </div>
        <div class="mb-3">
          <button type="button" class="btn btn-primary btn-lg" onclick="addTask();">add</button>
        </div>


      </div>

      <div class="div">
        <table class="table" >
          <thead>
            <tr>
              <th scope="col">S NO</th>
              <th scope="col">task</th>
              <th scope="col">description</th>
              <th scope="col">date</th>
              <th scope="col">status</th>
              <th scope="col">completed date</th>
              <th scope="col">action</th>
            </tr>
          </thead>
          <tbody id="table_data">

          </tbody>
        </table>
      </div>
    </div>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script> -->

    <script>
      
      var s_no = 0
      function addTask(){
       var taskData = document.getElementById('taskBox')
       var discData = document.getElementById('discBox')
       var new_row = document.createElement('tr')
      //  creating new 7 table coloum
       var tds_no = document.createElement('td')
       var td_task = document.createElement('td')
       var td_disc = document.createElement('td')
       var td_date = document.createElement('td')
       let td_status = document.createElement('td')
       var td_compdate = document.createElement('td')
       var td_action = document.createElement('td')
      //  adding row content
       new_row.appendChild(tds_no)
       new_row.appendChild(td_task)
       new_row.appendChild(td_disc)
       new_row.appendChild(td_date)
       new_row.appendChild(td_status)
       new_row.appendChild(td_compdate)
       new_row.appendChild(td_action)

       var table_element = document.getElementById('table_data')
       table_element.appendChild(new_row)

       s_no++
       tds_no.innerHTML = s_no
       td_task.innerHTML = taskData.value
       td_disc.innerHTML = discData.value

       const dt = new Date();
       const current_date = dt.getDate()+'/'+ dt.getMonth()+'/'+dt.getFullYear()
       td_date.innerHTML = current_date 
       td_status.innerHTML = "Pending"
       td_status.style.color="red"
       td_action.innerHTML = "<button class='btn btn-danger' onclick=newClick()> completed</button>"

      //  document.querySelector("#table_data button").classList.add("btn");
      //  document.querySelector("#table_data button").classList.add("btn-danger");
       

       
         
      }

      function newClick(){
          
      
          
          // document.querySelectorAll("td")[4].innerHTML='completed';
          // document.querySelectorAll("td")[4].style.color="green";
         
          var selected_row = event.target.parentNode.parentNode;
          var children = selected_row.childNodes;
          children[4].innerHTML = "finished"
          children[4].style.color = "green"
          // console.log(this.innerHTML)
          selected_row.style.textDecoration = "line-through"
          const dt = new Date();
          const current_date = dt.getDate()+'/'+ dt.getMonth()+'/'+dt.getFullYear()
          children[5].innerHTML = current_date
         }

    </script>
  </body>
</html>